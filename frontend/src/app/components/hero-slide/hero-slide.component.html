<section
  *ngIf="slides.length; else heroSkeleton"
  class="neo-hero  relative isolate overflow-hidden text-pure"
  aria-live="polite"
>
  <div class="neo-hero__atmosphere" aria-hidden="true">
    <span class="neo-hero__orb neo-hero__orb--one"></span>
    <span class="neo-hero__orb neo-hero__orb--two"></span>
    <span class="neo-hero__mesh"></span>
  </div>

  <div *ngIf="activeSlide as active" class="neo-hero__shell">
    <div class="neo-hero__grid">
      <div class="neo-hero__intro">        
        <div class="neo-hero__title">
          <p class="neo-hero__caption">{{ active.topic }}</p>
          <h1>
            {{ active.title }}
            <span class="neo-hero__underline mb-2"></span>
          </h1>
          <p class="neo-hero__lede">
            {{ active.des }}
          </p>
        </div>

        <div class="neo-hero__actions">
          <a
            class="neo-button"
            [routerLink]="['/projectdetails', active.id]"
            [attr.aria-label]="'Explore ' + active.title"
          >
            Schedule a viewing
            <i class="ri-arrow-right-up-line"></i>
          </a>
          <a
            class="neo-outline-button"
            [routerLink]="['/project']"
            aria-label="Browse all projects"
          >
            See the full portfolio
          </a>
        </div>

        <div class="neo-hero__metrics" role="list">
          <div class="metric-card" role="listitem">
            <div class="metric-card__label">Collection</div>
            <div class="metric-card__value">{{ active.author }}</div>
            <div class="metric-card__pill">Signature realm</div>
          </div>
          <div class="metric-card" role="listitem">
            <div class="metric-card__label">Status</div>
            <div class="metric-card__value">In focus</div>
            <div class="metric-card__pill">{{ active.thumbnailTitle }}</div>
          </div>
          <div class="metric-card" role="listitem">
            <div class="metric-card__label">Experience</div>
            <div class="metric-card__value">{{ slides.length }} curated stories</div>
            <div class="metric-card__pill">Live, work, gather</div>
          </div>
        </div>

        <div class="neo-hero__progress" aria-hidden="true">
          <div class="neo-hero__progress-label">Spotlight rhythm</div>
          <div class="neo-hero__progress-bar">
            <div
              class="neo-hero__progress-fill"
              [style.transform]="'scaleX(' + progress / 100 + ')'
              "
            ></div>
          </div>
          <span class="neo-hero__progress-count">
            {{ currentIndex + 1 | number : '2.0' }} / {{ slides.length | number : '2.0' }}
          </span>
        </div>
      </div>

      <div class="neo-hero__visual">
        <div class="neo-hero__frame">
          <img
            [src]="active.image"
            [alt]="active.alt || 'Project visual'"
            class="neo-hero__image"
            loading="lazy"
          />
          <div class="neo-hero__glow"></div>
          
          <div class="neo-hero__controls" role="group" aria-label="Hero navigation">
            <button type="button" (click)="prev()" aria-label="Previous highlight">
              <span aria-hidden="true">&#8592;</span>
            </button>
            <button type="button" (click)="next()" aria-label="Next highlight">
              <span aria-hidden="true">&#8594;</span>
            </button>
          </div>
        </div>

      </div>
    </div>
  </div>
</section>

<ng-template #heroSkeleton>
  <section
    class="relative isolate flex h-[480px] items-center justify-center overflow-hidden bg-gradient-to-br from-brand to-emerald-900"
    aria-busy="true"
  >
    <div class="h-32 w-32 animate-pulse rounded-full bg-white/10"></div>
  </section>
</ng-template>
