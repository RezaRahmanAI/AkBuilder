<div
  class="relative flex min-h-screen w-full flex-col overflow-hidden bg-pure font-display text-carbon shape-accent"
>
  <div class="flex flex-1 justify-center py-12 md:py-16">
    <div class="site-container flex w-full flex-col">
      <div class="flex flex-wrap justify-between gap-3 mb-10">
        <div class="flex min-w-72 flex-col gap-3">
          <p class="text-4xl font-black leading-tight tracking-[-0.033em] text-power">
            {{ contactPage().title }}
          </p>
          <p class="text-steel/90 text-base leading-normal max-w-[640px]">
            {{ contactPage().description }}
          </p>
        </div>
      </div>

      <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 lg:gap-12">
        <div
          class="lg:col-span-7 flex flex-col rounded-luxe-sm p-6 md:p-8 shadow-industrial-soft border border-brand/10 bg-white/80 backdrop-blur"
        >
          <h2
            class="tracking-light text-[24px] font-bold leading-tight mb-6 text-carbon"
          >
            {{ contactPage().formTitle }}
          </h2>

          <form
            #contactForm="ngForm"
            class="flex flex-col gap-5"
            (ngSubmit)="submit(contactForm)"
          >
            <div class="flex flex-col md:flex-row gap-5">
              <label class="flex flex-col flex-1">
                <p
                  class="text-sm font-semibold leading-normal pb-2 text-carbon/80"
                >
                  Full Name
                </p>
                <input
                  class="flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg border border-steel/30 bg-white/80 px-4 text-base leading-normal text-carbon shadow-sm transition focus:border-brand focus:outline-none focus:ring-2 focus:ring-brand/40 placeholder:text-steel/60"
                  [placeholder]="contactPage().namePlaceholder"
                  name="name"
                  autocomplete="name"
                  required
                  [(ngModel)]="form.name"
                />
              </label>
              <label class="flex flex-col flex-1">
                <p
                  class="text-sm font-semibold leading-normal pb-2 text-carbon/80"
                >
                  Phone Number
                </p>
                <input
                  class="flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg border border-steel/30 bg-white/80 px-4 text-base leading-normal text-carbon shadow-sm transition focus:border-brand focus:outline-none focus:ring-2 focus:ring-brand/40 placeholder:text-steel/60"
                  [placeholder]="contactPage().phonePlaceholder"
                  type="tel"
                  name="phone"
                  autocomplete="tel"
                  [(ngModel)]="form.phone"
                />
              </label>
            </div>
            <div class="flex flex-col md:flex-row gap-5">
              <label class="flex flex-col flex-1">
                <p
                  class="text-sm font-semibold leading-normal pb-2 text-carbon/80"
                >
                  Email Address
                </p>
                <input
                  class="flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg border border-steel/30 bg-white/80 px-4 text-base leading-normal text-carbon shadow-sm transition focus:border-brand focus:outline-none focus:ring-2 focus:ring-brand/40 placeholder:text-steel/60"
                  [placeholder]="contactPage().emailPlaceholder"
                  type="email"
                  name="email"
                  autocomplete="email"
                  required
                  [(ngModel)]="form.email"
                />
              </label>
              <label class="flex flex-col flex-1">
                <p
                  class="text-sm font-semibold leading-normal pb-2 text-carbon/80"
                >
                  I'm interested in
                </p>
                <div class="relative">
                  <select
                    class="flex h-12 w-full min-w-0 flex-1 appearance-none rounded-lg border border-steel/30 bg-white/80 px-4 text-base leading-normal text-carbon shadow-sm transition focus:border-brand focus:outline-none focus:ring-2 focus:ring-brand/40"
                    name="interest"
                    required
                    [(ngModel)]="form.interest"
                  >
                    <option
                      *ngFor="let option of contactPage().interestOptions"
                      [value]="option"
                    >
                      {{ option }}
                    </option>
                  </select>
                  <div
                    class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-4 text-steel"
                  >
                    <span class="material-symbols-outlined">expand_more</span>
                  </div>
                </div>
              </label>
            </div>
            <label class="flex flex-col flex-1">
              <p class="text-sm font-semibold leading-normal pb-2 text-carbon/80">
                Message
              </p>
              <textarea
                class="flex w-full min-w-0 flex-1 resize-y rounded-lg border border-steel/30 bg-white/80 p-4 text-base leading-normal text-carbon shadow-sm transition focus:border-brand focus:outline-none focus:ring-2 focus:ring-brand/40 placeholder:text-steel/60"
                [placeholder]="contactPage().messagePlaceholder"
                name="message"
                required
                [(ngModel)]="form.message"
              ></textarea>
            </label>

            <div
              *ngIf="errorMessage"
              class="rounded-lg border border-rose-200 bg-rose-50 px-4 py-3 text-sm font-semibold text-rose-600"
            >
              {{ errorMessage }}
            </div>

            <div
              *ngIf="isSuccess"
              class="rounded-lg border border-emerald-200 bg-emerald-50 px-4 py-3 text-sm font-semibold text-emerald-700"
            >
              Thanks for reaching out! We’ve received your message and will be in
              touch soon.
            </div>

            <div class="flex items-center justify-between pt-2">
              <p class="text-xs text-steel/90">
                {{ contactPage().privacyNote }}
              </p>
              <button
                class="neo-button h-12 px-6 text-base font-semibold tracking-[0.015em] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand/50 disabled:cursor-not-allowed disabled:opacity-60 disabled:shadow-none"
                type="submit"
                [disabled]="contactForm.submitted && contactForm.invalid"
              >
                {{ contactPage().submitLabel }}
              </button>
            </div>
          </form>
        </div>

        <div class="lg:col-span-5 flex flex-col gap-6">
          <div class="flex flex-col gap-4">
            <h3 class="text-lg font-bold leading-tight mb-1 text-carbon">
              {{ contactPage().contactInfoTitle }}
            </h3>
            <div
              class="flex gap-4 rounded-luxe-sm border border-brand/10 bg-white/80 p-4 items-center shadow-sm hover:shadow-md transition-shadow"
            >
              <div
                class="flex items-center justify-center w-12 h-12 rounded-full bg-brand/10 text-brand"
              >
                <span class="material-symbols-outlined">call</span>
              </div>
              <div class="flex flex-col">
                <h2 class="text-sm font-bold leading-tight text-carbon">
                  {{ contactPage().phoneLabel }}
                </h2>
                <ng-container *ngFor="let phone of settings().phones">
                  <a
                    class="text-steel text-sm leading-normal hover:text-accent transition-colors"
                    [href]="'tel:' + phone"
                  >
                    {{ phone }}
                  </a>
                </ng-container>
              </div>
            </div>
            <div
              class="flex gap-4 rounded-luxe-sm border border-brand/10 bg-white/80 p-4 items-center shadow-sm hover:shadow-md transition-shadow"
            >
              <div
                class="flex items-center justify-center w-12 h-12 rounded-full bg-brand/10 text-brand"
              >
                <span class="material-symbols-outlined">mail</span>
              </div>
              <div class="flex flex-col">
                <h2 class="text-sm font-bold leading-tight text-carbon">
                  {{ contactPage().emailLabel }}
                </h2>
                <a
                  class="text-steel text-sm leading-normal hover:text-accent transition-colors"
                  [href]="'mailto:' + settings().email"
                >
                  {{ settings().email }}
                </a>
              </div>
            </div>
            <div
              class="flex gap-4 rounded-luxe-sm border border-brand/10 bg-white/80 p-4 items-center shadow-sm hover:shadow-md transition-shadow"
            >
              <div
                class="flex items-center justify-center w-12 h-12 rounded-full bg-brand/10 text-brand"
              >
                <span class="material-symbols-outlined">location_on</span>
              </div>
              <div class="flex flex-col">
                <h2 class="text-sm font-bold leading-tight text-carbon">
                  {{ contactPage().addressLabel }}
                </h2>
                <p class="text-steel text-sm leading-normal">
                  {{ settings().address }}
                </p>
              </div>
            </div>
          </div>

          <div class="flex flex-col gap-2 mt-2">
            <div
              class="relative w-full h-64 lg:h-80 rounded-luxe-sm overflow-hidden shadow-sm border border-brand/10 bg-gray-200 group"
            >
              <img
                alt="Map Location"
                class="w-full h-full object-cover opacity-80 group-hover:opacity-100 transition-opacity duration-300"
                [src]="settings().mapImage"
              />
              <div class="absolute inset-0 flex items-center justify-center pointer-events-none">
                <div
                  class="bg-power text-white p-2 rounded-full shadow-lg animate-bounce"
                >
                  <span class="material-symbols-outlined text-2xl">location_on</span>
                </div>
              </div>
              <a
                class="absolute bottom-4 left-4 right-4 bg-white/90 backdrop-blur-sm p-3 rounded-lg text-center text-sm font-medium text-carbon shadow-sm hover:text-accent transition-colors"
                [href]="settings().mapLink"
                target="_blank"
                rel="noreferrer noopener"
              >
                {{ contactPage().mapCtaLabel }}
              </a>
            </div>
          </div>

          <div class="mt-4 p-4 bg-brand/10 rounded-luxe-sm border border-brand/20">
            <div class="flex items-center gap-3">
              <div class="w-10 h-10 rounded-full bg-gray-300 overflow-hidden">
                <img
                  alt="Agent"
                  class="w-full h-full object-cover"
                  [src]="contactPage().agentImage"
                />
              </div>
              <div class="flex-1">
                <p class="text-sm font-bold text-carbon">
                  {{ contactPage().agentTitle }}
                </p>
                <p class="text-xs text-steel">
                  {{ contactPage().agentStatus }} •
                  {{ contactPage().agentResponseTime }}
                </p>
              </div>
              <button
                class="text-power hover:bg-power/10 p-2 rounded-full transition-colors"
                type="button"
              >
                <span class="material-symbols-outlined">chat</span>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
